(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{166:function(t,a,e){"use strict";e.r(a);var n=e(0),s=Object(n.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),e("p",[t._v("Alternatively, the Gradle Plugin syntax can be used:")]),t._v(" "),t._m(2),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),e("p",[t._v("Starting with v2.0.0, Shadow is capable of automatically configuring package relocation for your dependencies.\nThis is useful especially when building Gradle plugins where you want your dependencies to not conflict with versions\nprovided by the Gradle runtime.")]),t._v(" "),t._m(8),e("p",[t._v("Alternatively, the Gradle Plugin syntax can be used:")]),t._v(" "),t._m(9),t._m(10),t._v(" "),e("p",[t._v("For more details see the section "),e("router-link",{attrs:{to:"/plugins/"}},[t._v("Using Shadow to Package Gradle Plugins")])],1)])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting Started")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[t._v("buildscript "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    repositories "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("jcenter")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    dependencies "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        classpath "),e("span",{attrs:{class:"token string"}},[t._v("'com.github.jengelman.gradle.plugins:shadow:{project-version}'")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\napply plugin"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'com.github.johnrengelman.shadow'")]),t._v("\napply plugin"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[t._v("plugins "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id "),e("span",{attrs:{class:"token string"}},[t._v("'com.github.johnrengelman.shadow'")]),t._v(" version "),e("span",{attrs:{class:"token string"}},[t._v("'{project-version}'")]),t._v("\n  id "),e("span",{attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Shadow is a reactive plugin.\nThis means that applying Shadow by itself will perform no configuration on your project.\nInstead, Shadow "),e("em",[t._v("reacts")]),t._v("\nThis means, that for most users, the "),e("code",[t._v("java")]),t._v(" or "),e("code",[t._v("groovy")]),t._v(" plugins must be "),e("em",[t._v("explicitly")]),t._v(" applied\nto have the desired effect.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"default-java-groovy-tasks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#default-java-groovy-tasks","aria-hidden":"true"}},[this._v("#")]),this._v(" Default Java/Groovy Tasks")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("In the presence of the "),a("code",[this._v("java")]),this._v(" or "),a("code",[this._v("groovy")]),this._v(" plugins, Shadow will automatically configure the\nfollowing behavior:")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",[e("li",[t._v("Adds a "),e("code",[t._v("shadowJar")]),t._v(" task to the project.")]),t._v(" "),e("li",[t._v("Adds a "),e("code",[t._v("shadow")]),t._v(" configuration to the project.")]),t._v(" "),e("li",[t._v("Configures the "),e("code",[t._v("shadowJar")]),t._v(" task to include all sources from the project's "),e("code",[t._v("main")]),t._v(" sourceSet.")]),t._v(" "),e("li",[t._v("Configures the "),e("code",[t._v("shadowJar")]),t._v(" task to bundle all dependencies from the "),e("code",[t._v("runtime")]),t._v(" configuration.")]),t._v(" "),e("li",[t._v("Configures the "),e("em",[t._v("classifier")]),t._v(" attribute of the "),e("code",[t._v("shadowJar")]),t._v(" task to be "),e("code",[t._v("'all'")]),t._v(" .")]),t._v(" "),e("li",[t._v("Configures the "),e("code",[t._v("shadowJar")]),t._v(" task to generate a "),e("code",[t._v("Manifest")]),t._v(" with:\n"),e("ul",[e("li",[t._v("Inheriting all configuration from the standard "),e("code",[t._v("jar")]),t._v(" task.")]),t._v(" "),e("li",[t._v("Adds a "),e("code",[t._v("Class-Path")]),t._v(" attribute to the "),e("code",[t._v("Manifest")]),t._v(" that appends all dependencies from the "),e("code",[t._v("shadow")]),t._v(" configuration")])])]),t._v(" "),e("li",[t._v("Configures the "),e("code",[t._v("shadowJar")]),t._v(" task to "),e("em",[t._v("exclude")]),t._v(" any JAR index or cryptographic signature files matching the following patterns:\n"),e("ul",[e("li",[e("code",[t._v("META-INF/INDEX.LIST")])]),t._v(" "),e("li",[e("code",[t._v("META-INF/*.SF")])]),t._v(" "),e("li",[e("code",[t._v("META-INF/*.DSA")])]),t._v(" "),e("li",[e("code",[t._v("META-INF/*.RSA")])])])]),t._v(" "),e("li",[t._v("Creates and registers the "),e("code",[t._v("shadow")]),t._v(" component in the project (used for integrating with "),e("code",[t._v("maven-publish")]),t._v(").")]),t._v(" "),e("li",[t._v("Configures the "),e("code",[t._v("uploadShadow")]),t._v(" task (as part of the "),e("code",[t._v("maven")]),t._v(" plugin) with the following behavior:\n** Removes the "),e("code",[t._v("compile")]),t._v(" and "),e("code",[t._v("runtime")]),t._v(" configurations from the "),e("code",[t._v("pom.xml")]),t._v(" file mapping.\n** Adds the "),e("code",[t._v("shadow")]),t._v(" configuration to the "),e("code",[t._v("pom.xml")]),t._v(" file as "),e("code",[t._v("RUNTIME")]),t._v(" scope.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"shadowing-gradle-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shadowing-gradle-plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" Shadowing Gradle Plugins")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[t._v("buildscript "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    repositories "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{attrs:{class:"token function"}},[t._v("jcenter")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    dependencies "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        classpath "),e("span",{attrs:{class:"token string"}},[t._v("'com.github.jengelman.gradle.plugins:shadow:{project-version}'")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\napply plugin"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'com.github.johnrengelman.plugin-shadow'")]),t._v("\napply plugin"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[t._v("plugins "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id "),e("span",{attrs:{class:"token string"}},[t._v("'com.github.johnrengelman.plugin-shadow'")]),t._v(" version "),e("span",{attrs:{class:"token string"}},[t._v("'{project-version}'")]),t._v("\n  id "),e("span",{attrs:{class:"token string"}},[t._v("'java'")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("Applying the "),e("code",[t._v("plugin-shadow")]),t._v(" plugin is the same as applying the standard "),e("code",[t._v("shadow")]),t._v(" plugin with the additional creation\nof the "),e("code",[t._v("configureRelocationShadowJar")]),t._v(" task.\nThis task runs before the "),e("code",[t._v("shadowJar")]),t._v(" task and scans the packages present in the dependencies that will be merged into\nthe final jar and automatically configures relocation for them.\nBy default the tasks relocates all packages to the "),e("code",[t._v("shadow.")]),t._v(" prefix. For example "),e("code",[t._v("org.jdom2.JDOMException")]),t._v(" becomes\n"),e("code",[t._v("shadow.org.jdom2.JDOMException")])])}],!1,null,null,null);s.options.__file="README.md";a.default=s.exports}}]);